{"ast":null,"code":"import _slicedToArray from \"/Users/cameronmiller/OneDrive/2020-2021 UCLA/react-spotify-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/cameronmiller/OneDrive/2020-2021 UCLA/react-spotify-auth/example/src/App.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { SpotifyApiContext, User, UserTop } from 'react-spotify-api';\nimport { MDBCol, MDBContainer, MDBRow, MDBCard, MDBCardBody, MDBCardImage, MDBCardTitle, MDBCardText, MDBBtn } from 'mdbreact';\nimport 'mdbreact/dist/css/mdb.css';\nimport Cookies from 'js-cookie';\nimport TrackCard from './TrackCard';\nimport defaultPfp from './examplePfp.jpg';\nimport './App.css';\nimport './index.css';\nimport { SpotifyAuth, Scopes } from 'react-spotify-auth';\nimport 'react-spotify-auth/dist/index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar dev = !process.env.NODE_ENV || process.env.NODE_ENV === 'development';\n\nvar App = function App() {\n  _s();\n\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      spotifyAuthToken = _useState2[0],\n      setSpotifyAuthToken = _useState2[1];\n\n  useEffect(function () {\n    setSpotifyAuthToken(Cookies.get('spotifyAuthToken'));\n    console.log(Scopes.all); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [Cookies.get('spotifyAuthToken')]);\n\n  var logout = function logout() {\n    Cookies.remove('spotifyAuthToken', {\n      path: dev ? '' : 'react-spotify-auth'\n    });\n    window.location = dev ? '/' : '/react-spotify-auth';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: /*#__PURE__*/_jsxDEV(MDBContainer, {\n      children: Cookies.get('spotifyAuthToken') ?\n      /*#__PURE__*/\n      // Display the app\n      _jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(MDBRow, {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Hi! How's it going?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(SpotifyApiContext.Provider, {\n          value: spotifyAuthToken,\n          children: [/*#__PURE__*/_jsxDEV(User, {\n            children: function children(user) {\n              return user && user.data ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(MDBCol, {\n                  style: {\n                    maxWidth: '22rem',\n                    padding: '0 0 1rem 1rem'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(MDBCard, {\n                    children: [/*#__PURE__*/_jsxDEV(MDBCardImage, {\n                      className: \"img-fluid\",\n                      src: user.data.images[0] ? user.data.images[0].url : defaultPfp,\n                      alt: \"Your Spotify Profile Picture\",\n                      waves: true\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 63,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(MDBCardBody, {\n                      style: {\n                        padding: '1rem'\n                      },\n                      children: [/*#__PURE__*/_jsxDEV(MDBCardTitle, {\n                        children: [\"Welcome, \", user.data.display_name]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 74,\n                        columnNumber: 29\n                      }, _this), /*#__PURE__*/_jsxDEV(MDBCardText, {\n                        children: \"Here's some of your top tracks, as listed by Spotify.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 77,\n                        columnNumber: 29\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 73,\n                      columnNumber: 27\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 25\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 23\n                }, _this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 21\n              }, _this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%'\n            },\n            children: /*#__PURE__*/_jsxDEV(MDBRow, {\n              className: \"masonry-with-columns\",\n              children: /*#__PURE__*/_jsxDEV(UserTop, {\n                type: \"tracks\",\n                children: function children(tracks, loading, error) {\n                  return tracks && tracks.data ? tracks.data.items.map(function (track, ind) {\n                    return /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: /*#__PURE__*/_jsxDEV(TrackCard, {\n                        track: track\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 33\n                      }, _this)\n                    }, void 0, false);\n                  }) : null;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 19\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(MDBBtn, {\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-page\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"React Spotify Auth Demo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Sign in to get started\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spotifyBtn\",\n          children: /*#__PURE__*/_jsxDEV(SpotifyAuth, {\n            redirectUri: dev ? 'http://localhost:3000/callback' : 'http://kevinjiang.ca/react-spotify-auth',\n            clientID: \"1a70ba777fec4ffd9633c0c418bdcf39\",\n            scopes: [Scopes.userReadPrivate, Scopes.userReadEmail, 'user-top-read']\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 15\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(App, \"7PxN7n1nGdwYc3RxVOfCRrkEOqs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/cameronmiller/OneDrive/2020-2021 UCLA/react-spotify-auth/example/src/App.js"],"names":["React","useEffect","useState","SpotifyApiContext","User","UserTop","MDBCol","MDBContainer","MDBRow","MDBCard","MDBCardBody","MDBCardImage","MDBCardTitle","MDBCardText","MDBBtn","Cookies","TrackCard","defaultPfp","SpotifyAuth","Scopes","dev","process","env","NODE_ENV","App","spotifyAuthToken","setSpotifyAuthToken","get","console","log","all","logout","remove","path","window","location","user","data","maxWidth","padding","images","url","display_name","width","tracks","loading","error","items","map","track","ind","userReadPrivate","userReadEmail"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { SpotifyApiContext, User, UserTop } from 'react-spotify-api'\nimport {\n  MDBCol,\n  MDBContainer,\n  MDBRow,\n  MDBCard,\n  MDBCardBody,\n  MDBCardImage,\n  MDBCardTitle,\n  MDBCardText,\n  MDBBtn\n} from 'mdbreact'\nimport 'mdbreact/dist/css/mdb.css'\nimport Cookies from 'js-cookie'\n\nimport TrackCard from './TrackCard'\nimport defaultPfp from './examplePfp.jpg'\nimport './App.css'\nimport './index.css'\n\nimport { SpotifyAuth, Scopes } from 'react-spotify-auth'\nimport 'react-spotify-auth/dist/index.css'\n\nconst dev = !process.env.NODE_ENV || process.env.NODE_ENV === 'development'\n\nconst App = () => {\n  const [spotifyAuthToken, setSpotifyAuthToken] = useState()\n\n  useEffect(() => {\n    setSpotifyAuthToken(Cookies.get('spotifyAuthToken'))\n    console.log(Scopes.all)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [Cookies.get('spotifyAuthToken')])\n\n  const logout = () => {\n    Cookies.remove('spotifyAuthToken', {\n      path: dev ? '' : 'react-spotify-auth'\n    })\n    window.location = dev ? '/' : '/react-spotify-auth'\n  }\n\n  return (\n    <div className='app'>\n      <MDBContainer>\n        {/* If there is a cookie named 'spotifyAuthToken' */}\n        {Cookies.get('spotifyAuthToken') ? (\n          // Display the app\n          <>\n            <MDBRow>\n              <h1>Hi! How's it going?</h1>\n            </MDBRow>\n\n            <SpotifyApiContext.Provider value={spotifyAuthToken}>\n              <User>\n                {(user) =>\n                  user && user.data ? (\n                    <>\n                      <MDBCol\n                        style={{ maxWidth: '22rem', padding: '0 0 1rem 1rem' }}\n                      >\n                        <MDBCard>\n                          <MDBCardImage\n                            className='img-fluid'\n                            src={\n                              user.data.images[0]\n                                ? user.data.images[0].url\n                                : defaultPfp\n                            }\n                            alt='Your Spotify Profile Picture'\n                            waves\n                          />\n                          <MDBCardBody style={{ padding: '1rem' }}>\n                            <MDBCardTitle>\n                              Welcome, {user.data.display_name}\n                            </MDBCardTitle>\n                            <MDBCardText>\n                              Here's some of your top tracks, as listed by\n                              Spotify.\n                            </MDBCardText>\n                          </MDBCardBody>\n                        </MDBCard>\n                      </MDBCol>\n                    </>\n                  ) : (\n                    <p>Loading...</p>\n                  )\n                }\n              </User>\n              <div style={{ width: '100%' }}>\n                <MDBRow className='masonry-with-columns'>\n                  <UserTop type='tracks'>\n                    {(tracks, loading, error) =>\n                      tracks && tracks.data\n                        ? tracks.data.items.map((track, ind) => {\n                            return (\n                              <>\n                                <TrackCard track={track} />\n                              </>\n                            )\n                          })\n                        : null\n                    }\n                  </UserTop>\n                </MDBRow>\n              </div>\n            </SpotifyApiContext.Provider>\n            <MDBBtn onClick={logout}>Logout</MDBBtn>\n          </>\n        ) : (\n          <div className='login-page'>\n            <h1>React Spotify Auth Demo</h1>\n            <h2>Sign in to get started</h2>\n            {/*  Display the login page */}\n\n            <div className='spotifyBtn'>\n              <SpotifyAuth\n                redirectUri={\n                  dev\n                    ? 'http://localhost:3000/callback'\n                    : 'http://kevinjiang.ca/react-spotify-auth'\n                }\n                clientID='1a70ba777fec4ffd9633c0c418bdcf39'\n                scopes={[\n                  Scopes.userReadPrivate,\n                  Scopes.userReadEmail,\n                  'user-top-read'\n                ]}\n              />\n            </div>\n          </div>\n        )}\n      </MDBContainer>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}